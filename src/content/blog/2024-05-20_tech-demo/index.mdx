---
title: "Feature reference & demo"
pubDate: 2024-05-20
description: "Documentation and usage examples for available components and Markdown features."
labels: ["demo", "components"]
---

{/* eslint-disable no-unused-vars */}
import { Callout } from '../../../components/ui/callout';
import EChart from '../../../components/EChart.astro';
import Mermaid from '../../../components/Mermaid.astro';
import IconBlock from '../../../components/IconBlock';
import Latex from '../../../components/Latex.astro';
import Map from '../../../components/PigeonMap';
import { demoMapData } from './map-data';
import { csvParse } from 'd3-dsv';
import rawData from './data.csv?raw';
import {
Zap,
Activity,
ShieldCheck,
Terminal,
Cpu,
Globe,
Server,
Database,
Cloud,
Code
} from 'lucide-react';
import { DataTable } from '../../../components/ui/table';

export const users = [
  { id: 1, name: "John Doe", role: "Admin", status: "Active" },
  { id: 2, name: "Jane Smith", role: "User", status: "Inactive" },
  { id: 3, name: "Bob Johnson", role: "Editor", status: "Active" },
  { id: 4, name: "Alice Williams", role: "User", status: "Active" },
];

export const userColumns = [
  { header: "ID", accessorKey: "id" },
  { header: "Name", accessorKey: "name" },
  { header: "Role", accessorKey: "role" },
  { header: "Status", accessorKey: "status" },
];

export const data = csvParse(rawData);

# Feature reference

This page documents the custom components and Markdown features available for use in blog posts. It serves as a reference for content creation and a testbed for styling.

## 1. Icons and styling

Import icons from **Lucide React**. Use the `IconBlock` component to create featured icon grids with consistent styling.

<div className="grid grid-cols-2 md:grid-cols-4 gap-4 my-6">
  <IconBlock client:visible icon={Zap} label="Lightning fast" variant="warning" />
  <IconBlock client:visible icon={Activity} label="Monitoring" variant="info" />
  <IconBlock client:visible icon={ShieldCheck} label="Secure" variant="success" />
  <IconBlock client:visible icon={Terminal} label="CLI tools" variant="brand" />
</div>

### Inline icons

Render icons inline with text by adjusting `className` properties. For example, <Cpu className="inline-block w-4 h-4 text-red-500 align-text-bottom" /> **CPU usage** or <Globe className="inline-block w-4 h-4 text-blue-400 align-text-bottom" /> **Network status**.

### Icon palette

Example of an ad-hoc flex container for icons:

<div className="flex flex-wrap gap-4 my-4 p-4 bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800">
  <Server className="text-gray-400" />
  <Database className="text-pink-500" />
  <Cloud className="text-sky-400" />
  <Code className="text-brand-primary" />
</div>

## 2. Callouts

Use the `<Callout>` component to highlight important information. The component supports `type` props: `info`, `tip`, `warning`, and `error`.

<Callout type="info" title="Info">
  Use **info** callouts for general notes or context.
</Callout>

<Callout type="tip" title="Pro tip">
  Use **tip** callouts for best practices or shortcuts.

```bash
# Code blocks are supported inside callouts
pnpm install super-cool-package
```

</Callout>

<Callout type="warning" title="Warning">
  Use **warning** callouts for caution, breaking changes, or deprecations.
</Callout>

<Callout type="error" title="Critical error">
  Use **error** callouts for strictly forbidden or dangerous operations.
</Callout>

<Callout type="info" title="Long content test">
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
</Callout>

## 3. Code snippets

Standard Markdown code fences are supported. Shiki handles syntax highlighting automatically.

### Kotlin (JS target)

```kotlin
fun main() {
    val message = "All Bugs Are Fixed"
    println("Status: $message")

    val bugs = listOf("NPE", "Infinite Loop", "Race Condition")
    bugs.filter { it.length > 3 }
        .forEach { bug ->
            fix(bug)
        }
}

fun fix(bug: String) {
    console.log("Fixed $bug!")
}
```

### TypeScript / Astro

```typescript
export async function getStaticPaths() {
  const posts = await getCollection("blog");
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}
```

## 4. Data visualization

Use the `<EChart>` component to render interactive visualizations powered by **Apache ECharts**.

### Line chart

<EChart
  height="400px"
  options={{
    title: {
      text: "Bugs fixed per month",
      left: "center",
    },
    tooltip: {
      trigger: "axis",
    },
    xAxis: {
      type: "category",
      data: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
    },
    yAxis: {
      type: "value",
    },
    series: [
      {
        data: [8, 15, 22, 19, 35, 42, 50],
        type: "line",
        smooth: true,
        lineStyle: {
          width: 3,
          shadowBlur: 10,
          shadowColor: "rgba(100,100,255,0.5)",
        },
        itemStyle: {
          color: "#8b5cf6", // Brand Primary (Violet)
        },
      },
    ],
  }}
/>

### Donut chart

<EChart
  height="350px"
  options={{
    tooltip: {
      trigger: "item",
    },
    legend: {
      top: "5%",
      left: "center",
    },
    series: [
      {
        name: "Time spent",
        type: "pie",
        radius: ["40%", "70%"],
        avoidLabelOverlap: false,
        itemStyle: {
          borderRadius: 10,
          borderColor: "#fff",
          borderWidth: 2,
        },
        label: {
          show: false,
          position: "center",
        },
        emphasis: {
          label: {
            show: true,
            fontSize: 20,
            fontWeight: "bold",
          },
        },
        data: data.map((d) => ({ value: parseInt(d.bugs || "0"), name: d.month || "" })),
      },
    ],
  }}
/>

## 5. Interactive maps

Use the `<Map>` component to render config-driven maps via **Pigeon Maps**.

<Map client:load config={demoMapData} />

## 6. Mermaid diagrams

Use the `<Mermaid>` component for flowcharts and sequence diagrams. Pass the diagram definition string to the `code` prop.

<Mermaid
  code={`
graph TD
    A[Start] --> B{Is it fixed?}
    B -- Yes --> C[Deploy]
    B -- No --> D[Debug]
    D --> B
    C --> E[Relax]
    E --> F[New Bug Found]
    F --> A
`}
/>

<Mermaid code={`
sequenceDiagram
    participant U as User
    participant B as Blog
    participant S as Server

    U->>B: Visits Page
    B->>S: Request Data
    S-->>B: Return JSON
    B-->>U: Render HTML

`} />

## 7. Mathematical formulas

Use the `<Latex>` component for mathematical expressions.

### Inline equations

Set the `inline` prop for inline rendering: <Latex formula="E = mc^2" inline /> or <Latex formula="e^{i\pi} + 1 = 0" inline />.

### Block equations

Omit the `inline` prop for block-level equations:

<Latex formula="\mathcal{L} = -\frac{1}{4} F_{\mu\nu} F^{\mu\nu} + i \bar{\psi} \gamma^\mu D_\mu \psi + h.c. + \psi_i y_{ij} \psi_j \phi + h.c. + |D_\mu \phi|^2 - V(\phi)" />

<Latex formula="\int_{-\infty}^{\infty} e^{-x^2} \,dx = \sqrt{\pi}" />

## 8. Data tables

Use the `<DataTable>` component for sortable tables powered by **TanStack Table**.

<DataTable client:load data={users} columns={userColumns} />

## Summary

The following tools are available for content authoring:

1. **Typography**: Standard markdown styling.
2. **Code blocks**: Syntax highlighting via Shiki.
3. **Charts**: `<EChart>` for interactive visualizations.
4. **Diagrams**: `<Mermaid>` for graphs and sequence diagrams.
5. **Callouts**: `<Callout>` for alerts and tips.
6. **Icons**: `lucide-react` icons and `<IconBlock>`.
7. **Maps**: `<Map>` for geolocation.
8. **Math**: `<Latex>` for KaTeX rendering.
9. **Tables**: `<DataTable>` for sortable data.
